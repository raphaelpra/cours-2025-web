<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vanilla JS â€” La douleur du DOM</title>
    <style>
        body { font-family: system-ui; max-width: 600px; margin: 2rem auto; }
        .card { border: 1px solid #ddd; border-radius: 8px; padding: 1rem; margin: 0.5rem 0; }
        button { padding: 0.5rem 1rem; cursor: pointer; margin: 0.25rem; }
    </style>
</head>
<body>
    <h1>Liste de courses (Vanilla JS)</h1>
    <p>Regardez combien de code il faut pour une simple liste interactive :</p>

    <!-- La partie statique, en HTML normal -->
    <div id="app">
        <div>
            <input type="text" placeholder="Ajouter un article...">
            <button id="add-btn">Ajouter</button>
        </div>
        <p id="counter">0 articles</p>
        <ul id="list"></ul>
    </div>

    <script>
        // ========================================
        // ğŸ˜° Vanilla JS â€” construire une UI Ã  la main
        // ========================================

        const input = document.querySelector("input");
        const counter = document.getElementById("counter");
        const list = document.getElementById("list");

        let items = [];

        // --- Reconstruire toute la liste Ã  chaque changement ---
        function render() {
            counter.textContent = `${items.length} article${items.length > 1 ? "s" : ""}`;
            list.innerHTML = "";
            items.forEach((item, index) => {
                const li = document.createElement("li");
                li.className = "card";

                const span = document.createElement("span");
                span.textContent = item;
                li.appendChild(span);

                const deleteBtn = document.createElement("button");
                deleteBtn.textContent = "ğŸ—‘ï¸";
                deleteBtn.addEventListener("click", () => {
                    items.splice(index, 1);
                    render();
                });
                li.appendChild(deleteBtn);

                list.appendChild(li);
            });
        }

        // --- Ajouter un article ---
        function addItem() {
            if (input.value.trim()) {
                items.push(input.value.trim());
                input.value = "";
                render();
            }
        }

        document.getElementById("add-btn").addEventListener("click", addItem);
        input.addEventListener("keydown", (e) => {
            if (e.key === "Enter") addItem();
        });

        render();

        // ========================================
        // ğŸ˜° ~50 lignes de JS pour une simple liste !
        // createElement, appendChild, addEventListener...
        // Et on n'a mÃªme pas gÃ©rÃ© l'Ã©dition, le tri, etc.
        //
        // ğŸ˜ En SolidJS, la mÃªme chose fait ~20 lignes.
        //    On va le voir juste aprÃ¨s.
        // ========================================
    </script>
</body>
</html>
